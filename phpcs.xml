<?xml version="1.0"?>
<!--
/**
 * WellCart Platform
 *
 * @copyright    Copyright (c) 2016 WellCart Development Team    http://wellcart.org/
 * @license      http://www.opensource.org/licenses/BSD-3-Clause New BSD License
 */
-->
<ruleset name="WellCart coding standard"
         xmlns="http://pmd.sf.net/ruleset/1.0.0"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://pmd.sf.net/ruleset/1.0.0
                     http://pmd.sf.net/ruleset_xml_schema.xsd"
         xsi:noNamespaceSchemaLocation="
                     http://pmd.sf.net/ruleset_xml_schema.xsd">
    <description>WellCart coding standard</description>

    <!-- display progress -->
    <arg value="p"/>
    <arg name="colors"/>

    <rule ref="PSR2">
        <exclude name="Squiz.Functions.MultiLineFunctionDeclaration.BraceOnSameLine"/>
    </rule>
    <rule ref="Generic.Functions.OpeningFunctionBraceKernighanRitchie"/>
    <rule ref="Generic.Arrays.DisallowLongArraySyntax"/>
    <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace">
        <properties>
            <property name="ignoreBlankLines" value="false"/>
        </properties>
    </rule>
    <!-- Import Zend coding standard (which in turn imports PEAR) -->
    <rule ref="Zend">
        <!-- but exclude their code analyzer -->
        <exclude name="Zend.Debug.CodeAnalyzer"/>

        <!-- covered by Squiz ControlSignature, which enforces try/catch as well -->
        <exclude name="PEAR.ControlStructures.ControlSignature"/>

        <exclude name="PEAR.Commenting.FunctionComment.SpacingBeforeTags"/>

        <!-- do not check line length -->
        <exclude name="Generic.Files.LineLength"/>
    </rule>

    <!-- Don't enforce Zend's private member underscores -->
    <rule ref="Zend.NamingConventions.ValidVariableName.PrivateNoUnderscore">
        <severity>0</severity>
    </rule>

    <!-- Ignore variables that contains numbers -->
    <rule ref="Zend.NamingConventions.ValidVariableName.ContainsNumbers">
        <severity>0</severity>
    </rule>

    <!-- Paths to check -->
    <file>./component/command-bus/tests/unit</file>
    <file>./component/command-bus/src</file>
    <file>./component/command-bus/config</file>

    <file>./component/base/src</file>
    <file>./component/base/config</file>
    <file>./component/base/tests/unit</file>

    <file>./component/schema-migration/tests/unit</file>
    <file>./component/schema-migration/src</file>
    <file>./component/schema-migration/config</file>
    <file>./component/setup/tests/unit</file>
    <file>./component/setup/src</file>
    <file>./component/setup/config</file>
    <file>./component/user/tests/unit</file>
    <file>./component/user/src</file>
    <file>./component/user/config</file>
    <file>./component/rest-api/tests/unit</file>
    <file>./component/rest-api/src</file>
    <file>./component/rest-api/config</file>
    <file>./component/admin/src</file>
    <file>./component/admin/config</file>
    <file>./component/admin/tests/unit</file>


    <file>./module/cms/tests/unit</file>
    <file>./module/directory/tests/unit</file>
    <file>./module/catalog/tests/unit</file>
    <file>./theme/frontend-ui/tests/unit</file>
    <file>./theme/backend-ui/tests/unit</file>
    <file>./theme/setup-ui/tests/unit</file>


    <file>./module/cms/src</file>
    <file>./module/cms/config</file>
    <file>./module/directory/src</file>
    <file>./module/directory/config</file>
    <file>./module/catalog/src</file>
    <file>./module/catalog/config</file>
    <file>./theme/frontend-ui/src</file>
    <file>./theme/frontend-ui/config</file>
    <file>./theme/backend-ui/src</file>
    <file>./theme/backend-ui/config</file>
    <file>./theme/setup-ui/src</file>
    <file>./theme/setup-ui/config</file>
    <file>./config/application.config.php</file>
</ruleset>
